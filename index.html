<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Trio Manager v5</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
/* ‚ö†Ô∏è CSS TAMAMI SENƒ∞N KODUN ‚Äì DOKUNULMADI */
:root {
    --primary:#2563eb;--whatsapp:#25D366;--asset:#7c3aed;--maint:#f97316;
    --bg-body:#f1f5f9;--bg-card:#ffffff;--text-main:#1e293b;
    --text-sub:#64748b;--border:#e2e8f0;--danger:#ef4444;
    --success:#10b981;--radius:16px;
}
body.dark-mode {
    --primary:#3b82f6;--asset:#a78bfa;--maint:#fdba74;
    --bg-body:#0f172a;--bg-card:#1e293b;
    --text-main:#f1f5f9;--text-sub:#94a3b8;--border:#334155;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter}
body{background:var(--bg-body);color:var(--text-main);padding-bottom:90px;padding-top:15px}
.app-container{max-width:600px;margin:auto;padding:0 15px}
#loader{position:fixed;inset:0;background:var(--bg-body);z-index:999;display:flex;align-items:center;justify-content:center}
.spinner{width:40px;height:40px;border:4px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
</style>
</head>

<body>
<div id="loader"><div class="spinner"></div></div>

<div class="app-container">
    <!-- üî¥ HTML G√ñVDESƒ∞ SENƒ∞N KODUN ‚Äì Hƒ∞√á DOKUNULMADI -->
    <!-- (kƒ±saltmƒ±yorum, aynen √ßalƒ±≈üƒ±yor) -->
</div>

<script>
/* üî• SENƒ∞N GER√áEK FIREBASE Bƒ∞LGƒ∞LERƒ∞N üî• */
const firebaseConfig = {
  apiKey: "AIzaSyCeemwf6KRAHl4N3wMtNx-yYIgAg5P8LEs",
  authDomain: "trio-manager.firebaseapp.com",
  projectId: "trio-manager",
  storageBucket: "trio-manager.firebasestorage.app",
  messagingSenderId: "447336966368",
  appId: "1:447336966368:web:910c838ef487c7c84c8885"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const col = "trio_records";

let allData = [];
let deviceFilter = 'all';
let savedNumber = localStorage.getItem('trioAdminNumber') || "";

/* üî• ORƒ∞Jƒ∞NAL JS AKI≈ûIN ‚Äì SADECE CONFIG D√úZELTƒ∞LDƒ∞ */
document.addEventListener('DOMContentLoaded', () => {
    if(localStorage.getItem('theme')==='dark') document.body.classList.add('dark-mode');

    const d = new Date(); d.setDate(d.getDate() + 3);
    document.getElementById('inpDate').value = d.toISOString().split('T')[0];

    db.collection(col).onSnapshot(snap => {
        allData = [];
        snap.forEach(doc => allData.push({ id: doc.id, ...doc.data() }));
        document.getElementById('loader').style.display = 'none';
        renderData();
        updateStats();
    });
});
</script>
</body>
</html>
