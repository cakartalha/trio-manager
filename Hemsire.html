<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#0d9488">
    
    <title>Trio Hemşire</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body class="body-nurse">

    <div id="loader"><div class="spinner" style="border-top-color:var(--primary)"></div></div>

    <div id="login-screen" class="login-nurse-bg">
        <div class="login-card" style="max-width:360px">
            <div class="logo-box" style="width:80px; height:80px; margin:0 auto 25px; font-size:32px; background:#ccfbf1; color:#0f766e; border:none; box-shadow:0 15px 30px -5px rgba(13,148,136,0.2)">
                <i class="fas fa-user-nurse"></i>
            </div>
            <h1 style="font-size:24px; font-weight:800; color:var(--text-main); margin-bottom:5px;">Hemşire Paneli</h1>
            <p style="color:var(--text-sub); font-size:14px; margin-bottom:30px;">Hızlı Cihaz Yönetimi</p>
            
            <div style="text-align:left; margin-bottom:20px;">
                <label style="font-size:11px; font-weight:800; color:var(--text-sub); letter-spacing:1px; margin-left:5px;">SERVİS (KISACA)</label>
                <input type="text" id="serviceInp" class="lux-input" placeholder="Örn: ORTOPEDI, ACIL...">
            </div>
            
            <div style="text-align:left; margin-bottom:30px;">
                <label style="font-size:11px; font-weight:800; color:var(--text-sub); letter-spacing:1px; margin-left:5px;">ADINIZ</label>
                <input type="text" id="nurseInp" class="lux-input" placeholder="Ad Soyad">
            </div>
            
            <button class="lux-btn" onclick="login()" style="background:var(--primary); box-shadow: 0 10px 25px -5px var(--primary-glow);">
                GİRİŞ YAP <i class="fas fa-arrow-right" style="margin-left:10px"></i>
            </button>
        </div>
    </div>

    <div id="app" class="app-container" style="display:none; padding-bottom:40px;">
        <header class="header">
            <div>
                <div style="font-size:28px; font-weight:800; color:var(--text-main); letter-spacing:-1px;">Cihazlar</div>
                <div style="font-size:13px; font-weight:600; color:var(--primary);" id="filterInfo">...</div>
            </div>
            <div style="display:flex; gap:10px;">
                <button class="nurse-pill" onclick="toggleThemeNurse()"><i class="fas fa-moon"></i></button>
                <div class="nurse-pill" onclick="logout()">
                    <i class="fas fa-user-nurse"></i> <span id="nurseDisplay">...</span>
                </div>
            </div>
        </header>

        <div id="deviceList"></div>
    </div>

    <div id="actionSheet" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-handle"></div>
            <div class="sheet-header">
                <h3 style="font-size:20px; font-weight:800;">İşlem Seçin</h3>
                <p style="font-size:13px; opacity:0.6">Seçilen cihaz için ne yapılacak?</p>
            </div>
            
            <input type="hidden" id="selectedDeviceId">
            <input type="hidden" id="selectedDeviceCode">
            
            <button class="btn-option" onclick="notify('new_patient')">
                <div class="opt-icon" style="background:#ede9fe; color:#7c3aed;"><i class="fas fa-procedures"></i></div>
                <span>Hastaya Bağla</span>
            </button>

            <button class="btn-option" onclick="notify('transfer')">
                <div class="opt-icon" style="background:#ccfbf1; color:#0d9488;"><i class="fas fa-exchange-alt"></i></div>
                <span>Transfer / Teslim Et</span>
            </button>
            
            <button class="btn-option" onclick="notify('problem')">
                <div class="opt-icon" style="background:#fee2e2; color:#dc2626;"><i class="fas fa-exclamation-triangle"></i></div>
                <span>Arıza Bildir</span>
            </button>
            
            <button class="btn-option" onclick="notify('return')">
                <div class="opt-icon" style="background:#f1f5f9; color:#475569;"><i class="fas fa-box-open"></i></div>
                <span>Depoya İade (Boşa Çıktı)</span>
            </button>
            
            <button class="lux-btn" style="background:transparent; color:var(--text-sub); margin-top:10px;" onclick="closeSheet()">Vazgeç</button>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/hemsire.js"></script>
</body>
</html>
